(this.webpackJsonpadminui=this.webpackJsonpadminui||[]).push([[0],{18:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),i=c(6),a=c.n(i),r=(c(18),c(3)),o=c(2),l="UPDATE_POSTS",j="DELETE_POST",u="EDIT_POST",b="TO_BE_DELETED",d="DELETE_MULTIPLE",O="SEARCH_FOR",h=[];function m(){return function(e){fetch("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(e){return e.json()})).then((function(t){console.log(t),e({type:l,posts:t})}))}}var p=c(1);var x=function(e){for(var t=e.postsPerPage,c=e.totalPosts,n=e.paginate,s=Object(o.b)(),i=[],a=1;a<=Math.ceil(c/t);a++)i.push(a);return Object(p.jsxs)("div",{className:"footer",children:[Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){s((console.log(h),{type:d,toBeDeleteArray:h}))},children:"Delete All"})}),Object(p.jsx)("div",{className:"paginationDiv",children:Object(p.jsx)("nav",{className:"pagination",children:i.map((function(e){return Object(p.jsx)("li",{className:"page-item",children:Object(p.jsx)("a",{onClick:function(){return n(e)},href:"!#",className:"page-link",children:e})},e)}))})})]})};var f=function(e){var t=e.posts;return e.loading?Object(p.jsx)("h2",{children:"Loading..."}):Object(p.jsx)("ul",{className:"list-group mb-4",children:t.map((function(e){return Object(p.jsx)("li",{className:"list-group-item",children:Object(p.jsx)(v,{post:e},e.id)},e.id)}))})};var v=function(e){var t=e.post,c=t.id,s=t.name,i=t.email,a=t.role,l=Object(n.useState)(!1),d=Object(r.a)(l,2),O=d[0],m=d[1],x=Object(n.useState)(""),f=Object(r.a)(x,2),v=f[0],g=f[1],N=Object(o.b)(),E=Object(n.useState)(!1),k=Object(r.a)(E,2),y=(k[0],k[1]),S=function(e){e.target.checked?(N(function(e){return h.push(e),{type:b}}(c)),y(!0)):(N(function(e){var t=h.filter((function(t){return t!==e}));return h.length=0,h.push.apply(h,t),{type:b}}(c)),y(!1))};return Object(p.jsxs)("div",{className:"posts",children:[Object(p.jsx)("div",{className:"check",children:Object(p.jsx)("input",{type:"checkbox",value:c,onClick:function(e){S(e)}})}),Object(p.jsx)("div",{className:"about",children:s}),!O&&Object(p.jsx)("div",{className:"about",children:i}),O&&Object(p.jsx)("input",{type:"text",className:"about",id:"input",onChange:function(e){g(e.target.value)}}),Object(p.jsx)("div",{className:"about",children:a}),Object(p.jsxs)("div",{className:"action",children:[O&&Object(p.jsxs)("button",{onClick:function(){m(!1),-1===v.indexOf("@")?alert("Enter a valid Email"):N(function(e,t){return{type:u,id:e,newEmail:t}}(c,v)),g("")},children:[Object(p.jsx)("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/000/441/750/small/Basic_Element_15-30__28586_29.jpg",alt:"edit-button"})," "]})," ",!O&&Object(p.jsxs)("button",{onClick:function(){m(!0)},children:[Object(p.jsx)("img",{src:"https://www.seekpng.com/png/detail/202-2022672_edit-comments-edit-icon-png-circle.png",alt:"edit-button"})," "]}),Object(p.jsx)("button",{onClick:function(){N(function(e){return{type:j,id:e}}(c))},children:Object(p.jsx)("img",{src:"https://media.istockphoto.com/vectors/trash-cangarbage-canrubbish-bin-icon-vector-id928418914?b=1&k=20&m=928418914&s=170667a&w=0&h=cp6WH9e9DBvJgfFYnJJvhMFa0XitsoEBUPp1kGLS3Wk=",alt:"delete-button"})})]})]})};var g=function(e){return Object(p.jsx)("li",{className:"list-group-item",children:Object(p.jsxs)("div",{className:"posts",children:[Object(p.jsx)("div",{className:"check"}),Object(p.jsx)("div",{className:"about",children:Object(p.jsx)("strong",{children:"Name"})}),Object(p.jsx)("div",{className:"about",children:Object(p.jsx)("strong",{children:"Email"})}),Object(p.jsx)("div",{className:"about",children:Object(p.jsx)("strong",{children:"Role"})}),Object(p.jsx)("div",{className:"action",children:Object(p.jsx)("strong",{children:"Actions"})})]})})};var N=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1],i=Object(o.b)();return Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:"text",onChange:function(e){s(e.target.value)},placeholder:"Search with Name, Email or Role"})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){i(function(e){return{type:O,searchText:e}}(c))},children:"Search"})})]})};var E=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(1),a=Object(r.a)(i,2),l=a[0],j=a[1],u=Object(n.useState)(10),b=Object(r.a)(u,1)[0],d=Object(o.b)(),O=Object(o.c)((function(e){return e.posts}));Object(n.useEffect)((function(){s(!0),d(m()),s(!1)}),[]),console.log(O);var h=l*b,v=h-b,E=O.slice(v,h);return Object(p.jsxs)("div",{className:"container mt-4",children:[Object(p.jsx)(N,{}),Object(p.jsx)(g,{}),Object(p.jsx)(f,{posts:E,loading:c}),Object(p.jsx)(x,{postsPerPage:b,totalPosts:O.length,paginate:function(e){return j(e)}})]})},k=c(5),y=c(12),S=c(11),w=c.n(S),P=c(13);var C=Object(k.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return t.posts;case j:var c=e.filter((function(e){return e.id!==t.id}));return alert("Post Deleted Successfully"),c;case u:var n=e.findIndex((function(e){return e.id===t.id}));return e[n].email=t.newEmail,Object(P.a)(e);case d:var s=e.filter((function(e){return!t.toBeDeleteArray.includes(e.id)}));return alert("Post Deleted Successfully"),s;case O:var i=t.searchText.toLowerCase(),a=e.filter((function(e){return e.role.toLowerCase()===i||e.email.includes(i)||e.name.toLowerCase().includes(i)}));return a;default:return e}}});var D=Object(k.c)(C,Object(k.a)(y.a,w.a));a.a.render(Object(p.jsx)(o.a,{store:D,children:Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(E,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.a0b2e15e.chunk.js.map